<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Courier v1.0.35</title>
  <style>
    :root{
      color-scheme: dark;
      --bg:#000;
      --accent:#ffffff;
      --stroke:2px;
      --r:16px;
      --r2:12px;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    }
    html,body{height:100%;}
    body{
      margin:0;
      background:var(--bg);
      color:var(--accent);
      font-family:var(--sans);
      font-size:18px;
    }
    .safe{
      padding: calc(env(safe-area-inset-top) + 12px) 14px calc(env(safe-area-inset-bottom) + 260px);
      max-width:760px;
      margin:0 auto;
    }

    .top{
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      margin-bottom:14px;
    }
    h1{
      margin:0;
      font-size:44px;
      font-weight:900;
      color:var(--accent);
      text-align:left;
    }
    .headerClock{
      text-align:right;
      font-family:var(--mono);
      font-size:44px;
      font-weight:950;
      letter-spacing:.2px;
      color:var(--accent);
    }

    .divider{
      height:4px;
      background:var(--accent);
      margin:14px 0;
    }

    .kpiRow{
      display:grid;
      grid-template-columns:1fr 1fr 1fr;
      font-family:var(--mono);
      font-weight:900;
      color:var(--accent);
      padding:0 8px;
    }
    .kpiLeft{ text-align:left; }
    .kpiMid{ text-align:center; }
    .kpiRight{ text-align:right; }

    .screen{display:block;}
    .hidden{display:none!important;}

    .btn,.btnOutline{
      width:100%;
      border-radius:14px;
      padding:18px 12px;
      font-size:18px;
      font-weight:900;
      letter-spacing:.2px;
      margin-top:12px;
      touch-action: manipulation;
      border:var(--stroke) solid var(--accent);
    }
    .btn{
      background:var(--accent);
      color:#000;
    }
    .btnOutline{
      background:var(--bg);
      color:var(--accent);
    }
    .btn[disabled],.btnOutline[disabled]{opacity:.4;}

    .btnSmall{
      padding:8px 12px;
      font-size:16px;
      margin-top:0;
      width:auto;
    }

    .hubGrid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:14px;
      margin-top:20px;
    }
    .hubGrid .btn,.hubGrid .btnOutline{
      padding:28px 12px;
      font-size:20px;
      margin-top:0;
    }

    .hubRow{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:14px;
      margin-top:12px;
    }

    .hubBtn{
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:10px;
      text-align:center;
    }

    .jobTitle{font-size:22px;font-weight:950;color:var(--accent);}
    .pageTitle{
      text-align:center;
      margin-top:28px;
      margin-bottom:12px;
    }

    .jobs{display:grid;gap:12px;margin-top:12px;}
    .jobRow{
      border:var(--stroke) solid var(--accent);
      border-radius:var(--r2);
      padding:12px;
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      cursor:pointer;
      user-select:none;
      background:var(--accent);
      color:#000;
    }
    .jobRow .jobTitle,
    .jobRow .jobPay{ color:#000; }

    .jobPay{font-family:var(--mono);font-size:20px;font-weight:950;}

    .bottomRight{
      margin-top:14px;
      display:flex;
      justify-content:flex-end;
    }

    .resultBox{
      border:var(--stroke) solid var(--accent);
      border-radius:var(--r2);
      padding:12px;
      margin-top:12px;
    }
    .vlist{display:grid;gap:8px;}
    .vrow{display:flex;justify-content:space-between;font-family:var(--mono);font-weight:800;color:var(--accent);}
    .vrow.total{border-top:var(--stroke) solid var(--accent);padding-top:10px;margin-top:6px;}

    .feedbackLine{
      margin-top:12px;
      padding-top:12px;
      border-top:var(--stroke) solid var(--accent);
      font-family:var(--mono);
      font-weight:900;
      color:var(--accent);
    }
    .feedbackWho{opacity:.8;margin-bottom:6px;}

    .clientCard{
      border:var(--stroke) solid var(--accent);
      border-radius:var(--r2);
      padding:12px;
      margin-top:12px;
    }
    .clientTitle{
      font-size:20px;
      font-weight:950;
      margin-bottom:8px;
    }
  </style>
</head>

<body>
<div class="safe">
  <div class="top">
    <h1>Courier</h1>
    <div class="headerClock" id="headerClock">15:00</div>
  </div>

  <div class="divider"></div>

  <div id="kpiWrap">
    <div class="kpiRow">
      <div class="kpiLeft" id="dayText">Day 1</div>
      <div class="kpiMid" id="versionText">v1.0.35</div>
      <div class="kpiRight" id="cashText">£0 / £500</div>
    </div>
    <div class="divider"></div>
  </div>

  <!-- HUB -->
  <div class="screen" id="hub">
    <div class="hubGrid">
      <button class="btn hubBtn" id="goJobs">Jobs</button>
      <button class="btn hubBtn" id="goShop">Shop</button>

      <button class="btnOutline hubBtn" disabled>Equipment</button>
      <button class="btnOutline hubBtn" disabled>Vehicles</button>

      <button class="btn hubBtn" id="goClients">Clients</button>
      <button class="btnOutline hubBtn" disabled>Stats</button>
    </div>

    <div class="hubRow">
      <button class="btnOutline" id="resetGame">Reset</button>
      <button class="btn" id="restOpen">Rest</button>
    </div>
  </div>

  <!-- CLIENTS -->
  <div class="screen hidden" id="clients">
    <div class="jobTitle pageTitle">Clients</div>
    <div id="clientsWrap"></div>
    <div class="bottomRight">
      <button class="btnOutline btnSmall" id="backHubClients">Back</button>
    </div>
  </div>

  <!-- JOB BOARD -->
  <div class="screen hidden" id="board">
    <div class="jobTitle pageTitle">Job board</div>
    <div class="jobs" id="jobs"></div>
    <div class="bottomRight">
      <button class="btnOutline btnSmall" id="backHub">Back</button>
    </div>
  </div>

  <!-- RESULT -->
  <div class="screen hidden" id="result">
    <div class="jobTitle pageTitle" id="resultTitle">Job complete</div>
    <div class="resultBox">
      <div class="vlist" id="resultList"></div>
      <div class="feedbackLine hidden" id="feedbackWrap">
        <div class="feedbackWho" id="feedbackWho"></div>
        <div id="feedbackText"></div>
      </div>
    </div>
    <button class="btn" id="backBoard">Back to job board</button>
  </div>
</div>

<script>
const VERSION="1.0.35";
const WEEKLY_TARGET=500;

const SAVE_KEY="courier_save";

const state={
  day:1,
  cash:0,
  time:15*60,
  jobsDone:0,
  job:null,
  requestorStats:{},
  requestorSeq:{},
  completedOneOff:{}
};

const REQUESTORS=["Sam Patel","Rosa Klein","Aisha Rahman"];
const REPUTATION={
  "Sam Patel":7,
  "Rosa Klein":8,
  "Aisha Rahman":9
};

function ensureStats(){
  for(const r of REQUESTORS){
    if(!state.requestorStats[r]){
      state.requestorStats[r]={
        completed:0,
        aborted:0,
        revenue:0,
        tips:0,
        penalties:0
      };
    }
    if(!state.requestorSeq[r]){
      state.requestorSeq[r]=1;
    }
  }
}

function save(){
  localStorage.setItem(SAVE_KEY,JSON.stringify(state));
}
function load(){
  const raw=localStorage.getItem(SAVE_KEY);
  if(!raw) return;
  Object.assign(state,JSON.parse(raw));
}

function renderTop(){
  document.getElementById("cashText").textContent=
    "£"+state.cash+" / £"+WEEKLY_TARGET;
  document.getElementById("versionText").textContent="v"+VERSION;
  document.getElementById("dayText").textContent="Day "+state.day;
}

function setMode(m){
  ["hub","board","result","clients"].forEach(id=>{
    document.getElementById(id).classList.toggle("hidden",id!==m);
  });
  save();
}

function renderClients(){
  ensureStats();
  const wrap=document.getElementById("clientsWrap");
  wrap.innerHTML="";
  for(const r of REQUESTORS){
    const s=state.requestorStats[r];
    const net=s.revenue + s.tips - s.penalties;

    const div=document.createElement("div");
    div.className="clientCard";
    div.innerHTML=`
      <div class="clientTitle">${r}</div>
      <div class="vlist">
        <div class="vrow"><span>Jobs completed</span><span>${s.completed}</span></div>
        <div class="vrow"><span>Jobs aborted</span><span>${s.aborted}</span></div>
        <div class="vrow"><span>Total revenue</span><span>£${s.revenue}</span></div>
        <div class="vrow"><span>Total tips</span><span>£${s.tips}</span></div>
        <div class="vrow"><span>Total penalties</span><span>£${s.penalties}</span></div>
        <div class="vrow"><span>Net pay</span><span>£${net}</span></div>
        <div class="vrow"><span>Sequence</span><span>${state.requestorSeq[r]}</span></div>
        <div class="vrow"><span>Reputation</span><span>${REPUTATION[r]}/10</span></div>
      </div>
    `;
    wrap.appendChild(div);
  }
}

document.getElementById("goClients").onclick=()=>{
  renderClients();
  setMode("clients");
};
document.getElementById("backHubClients").onclick=()=>{
  setMode("hub");
};

document.getElementById("backHub").onclick=()=>setMode("hub");
document.getElementById("backBoard").onclick=()=>setMode("board");

document.getElementById("resetGame").onclick=()=>{
  localStorage.removeItem(SAVE_KEY);
  location.reload();
};

load();
ensureStats();
renderTop();
setMode("hub");
</script>
</body>
</html>