<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Courier v1.0.14</title>
<style>
:root{
  color-scheme: dark;
  --bg:#000;
  --accent:#fff;
  --r:16px;
  --sans: system-ui, -apple-system, Segoe UI, Roboto, Arial;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}
html,body{height:100%;}
body{
  margin:0;
  background:var(--bg);
  color:var(--accent);
  font-family:var(--sans);
  font-size:18px;
}
.safe{
  padding: calc(env(safe-area-inset-top) + 12px) 14px calc(env(safe-area-inset-bottom) + 260px);
  max-width:760px;
  margin:0 auto;
}

/* HEADER */
.top{
  text-align:center;
}
h1{margin:0;font-size:44px;font-weight:900;}
.divider{
  height:1px;
  background:var(--accent);
  margin:14px 0;
}

/* KPI ROW */
.kpiRow{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  font-family:var(--mono);
  font-weight:900;
}
.kpiLeft{text-align:left;}
.kpiMid{text-align:center;}
.kpiRight{text-align:right;}

/* SCREENS */
.screen{display:block;}
.hidden{display:none!important;}

/* BUTTONS */
.btn,.btnOutline{
  width:100%;
  border-radius:14px;
  padding:18px 12px;
  font-size:18px;
  font-weight:900;
  margin-top:12px;
}
.btn{
  background:var(--accent);
  color:#000;
  border:1px solid var(--accent);
}
.btnOutline{
  background:var(--bg);
  color:var(--accent);
  border:1px solid var(--accent);
}
.btnSmall{padding:8px 12px;font-size:16px;width:auto;}

/* HUB */
.hubGrid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
  margin-top:20px;
}
.hubBtn{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
  padding:28px 12px;
}
.hubBtn svg{
  width:40px;
  height:40px;
  stroke:currentColor;
  fill:none;
  stroke-width:2;
}

/* JOB LIST */
.jobs{display:grid;gap:12px;margin-top:12px;}
.jobRow{
  border:1px solid var(--accent);
  border-radius:12px;
  padding:12px;
  display:flex;
  justify-content:space-between;
}
.jobTitle{font-size:22px;font-weight:950;}
.jobPay{font-family:var(--mono);font-size:20px;font-weight:950;}
.refreshText{
  margin-top:14px;
  text-align:center;
  font-family:var(--mono);
  cursor:pointer;
}

/* END DAY */
.resultBox{
  border:1px solid var(--accent);
  border-radius:12px;
  padding:12px;
}
.vrow{display:flex;justify-content:space-between;font-family:var(--mono);font-weight:800;}
.vrow.total{border-top:1px solid var(--accent);padding-top:10px;margin-top:6px;}
</style>
</head>

<body>
<div class="safe">
  <div class="top">
    <h1>Courier (v1.0.14)</h1>
  </div>

  <div class="divider"></div>

  <div class="kpiRow">
    <div class="kpiLeft" id="kpiDay">Day 1</div>
    <div class="kpiMid" id="kpiTime">15:00</div>
    <div class="kpiRight" id="kpiCash">£0</div>
  </div>

  <div class="divider"></div>

  <!-- HUB -->
  <div class="screen" id="hub">
    <div class="hubGrid">
      <button class="btnOutline hubBtn" id="goJobs">
        <svg viewBox="0 0 24 24"><rect x="4" y="3" width="16" height="18"/><line x1="8" y1="7" x2="16" y2="7"/><line x1="8" y1="11" x2="16" y2="11"/></svg>
        Jobs
      </button>
      <button class="btnOutline hubBtn" id="goShop">
        <svg viewBox="0 0 24 24"><circle cx="9" cy="20" r="1"/><circle cx="18" cy="20" r="1"/><path d="M3 4h2l3 12h10l3-8H6"/></svg>
        Shop
      </button>
      <button class="btnOutline hubBtn" disabled>
        <svg viewBox="0 0 24 24"><rect x="3" y="7" width="18" height="10"/><line x1="7" y1="7" x2="7" y2="17"/></svg>
        Kit
      </button>
      <button class="btnOutline hubBtn" disabled>
        <svg viewBox="0 0 24 24"><path d="M6 7h12l-1 14H7z"/><path d="M9 7V5a3 3 0 0 1 6 0v2"/></svg>
        Bag
      </button>
    </div>
    <button class="btnOutline" id="restOpen">Rest</button>
  </div>

  <!-- JOB BOARD -->
  <div class="screen hidden" id="board">
    <div class="jobTitle">Job board</div>
    <div class="jobs" id="jobs"></div>
    <div class="refreshText" id="refreshJobs">↻ Refresh jobs</div>
    <button class="btnOutline btnSmall" id="backHub">Back</button>
  </div>

  <!-- END DAY -->
  <div class="screen hidden" id="end">
    <div class="jobTitle">End of day</div>
    <div class="resultBox">
      <div class="vrow"><span>Jobs</span><span id="eJobs"></span></div>
      <div class="vrow"><span>Earnings</span><span id="eEarn"></span></div>
      <div class="vrow"><span>Rent</span><span>-£35</span></div>
      <div class="vrow"><span>Food</span><span>-£15</span></div>
      <div class="vrow total"><span>Net</span><span id="eNet"></span></div>
    </div>
    <button class="btn" id="confirmEnd">Start next day</button>
  </div>
</div>

<script>
const VERSION="1.0.14";
const COSTS={rent:35,food:15};

const state={
  day:1,
  time:15*60,
  cash:0,
  jobsDone:0,
  dayEarnings:0,
  offers:[]
};

const JOBS=[
  {name:"Hot food drop",pay:24},
  {name:"Parcel run",pay:32},
  {name:"Groceries",pay:40}
];

const $=id=>document.getElementById(id);

function fmtClock(mins){
  const h=Math.floor(mins/60)%24;
  const m=Math.floor(mins%60);
  return String(h).padStart(2,"0")+":"+String(m).padStart(2,"0");
}

function renderTop(){
  $("kpiDay").textContent="Day "+state.day;
  $("kpiTime").textContent=fmtClock(state.time);
  $("kpiCash").textContent="£"+state.cash;
}

function genJobs(){
  state.offers=[...JOBS].sort(()=>Math.random()-.5).slice(0,3);
}

function renderJobs(){
  const wrap=$("jobs"); wrap.innerHTML="";
  state.offers.forEach(o=>{
    const d=document.createElement("div");
    d.className="jobRow";
    d.innerHTML=`<div class="jobTitle">${o.name}</div><div class="jobPay">£${o.pay}</div>`;
    d.onclick=()=>{
      state.cash+=o.pay;
      state.dayEarnings+=o.pay;
      state.jobsDone++;
      state.time+=60;
      if(state.time>=1440) showEndOfDay();
      renderTop();
    };
    wrap.appendChild(d);
  });
}

function showEndOfDay(){
  $("eJobs").textContent=state.jobsDone;
  $("eEarn").textContent="£"+state.dayEarnings;
  $("eNet").textContent="£"+(state.dayEarnings-(COSTS.rent+COSTS.food));
  setMode("end");
}

function setMode(m){
  ["hub","board","end"].forEach(s=>$(s).classList.toggle("hidden",s!==m));
}

$("goJobs").onclick=()=>{
  genJobs();
  renderJobs();
  setMode("board");
};
$("refreshJobs").onclick=()=>{genJobs();renderJobs();};
$("backHub").onclick=()=>setMode("hub");

$("confirmEnd").onclick=()=>{
  state.cash-=COSTS.rent+COSTS.food;
  state.day++;
  state.time=6*60;
  state.jobsDone=0;
  state.dayEarnings=0;
  genJobs();            // refresh jobs after EOD
  renderTop();
  setMode("hub");
};

renderTop();
setMode("hub");
document.title="Courier v"+VERSION;
</script>
</body>
</html>